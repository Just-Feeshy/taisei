#ifndef FRAG_UTIL_H
#define FRAG_UTIL_H

vec2 dFduv(float height, vec2 uv) {
	vec2 duvdx = dFdx(uv);
	vec2 duvdy = dFdy(uv);
	mat2 duvdxy = mat2(duvdx,duvdy);

	float dheightdx = dFdx(height);
	float dheightdy = dFdy(height);

	vec2 dheightduv = inverse(duvdxy)*vec2(dheightdx,dheightdy);
	return dheightduv;
}

#endif
